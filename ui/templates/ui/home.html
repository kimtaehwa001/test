{% extends 'ui/base.html' %}

{% block content %}
<style>
    .header { text-align: center; margin-bottom: 40px; }
    .header h1 { font-size: 32px; font-weight: bold; margin-bottom: 10px; }
    .header p { color: #666; }

    .card-container {
        display: flex;
        justify-content: center;
        gap: 20px;
    }

    .card {
        width: 45%;
        height: 400px;
        background-color: #4a3b32;
        border-radius: 20px;
        position: relative;
        padding: 40px;
        color: white;
        text-decoration: none;
        transition: transform 0.2s;
        display: flex;
        flex-direction: column;
    }

    .card:hover { transform: translateY(-5px); }
    .card h2 { font-size: 36px; margin-bottom: 20px; font-weight: 300; }
    .card p { font-size: 24px; line-height: 1.4; font-weight: bold; }

    .english-sub {
        position: absolute;
        bottom: 30px;
        left: 40px;
        font-size: 14px;
        color: rgba(255,255,255,0.6);
        line-height: 1.2;
    }

    .arrow-icon {
        position: absolute;
        bottom: 30px;
        right: 30px;
        font-size: 30px;
    }
</style>

<div class="header">
    <h1>My Perfume</h1>
    <p>ë‹¹ì‹ ì˜ í–¥ì„ ì°¾ìœ¼ì„¸ìš”</p>
</div>

<div class="card-container">
    <!-- For Me ì¹´ë“œ -->
    <a href="{% url 'for_me' %}" class="card">
        <h2>For Me</h2>
        <p>ì§€ê¸ˆì˜ ë‚˜ì—ê²Œ<br>ì–´ìš¸ë¦¬ëŠ” í–¥ì€?</p>
        <div class="english-sub">
            A SCENT<br>THAT<br>SUITS ME
        </div>
        <span class="material-icons arrow-icon">north_east</span>
    </a>

    <!-- For Someone ì¹´ë“œ -->
    <a href="{% url 'for_someone' %}" class="card">
        <h2>For Someone</h2>
        <p>ê·¸ ì‚¬ëŒì˜ ë¶„ìœ„ê¸°ë¥¼<br>í–¥ê¸°ë¡œ ë‹´ì•„,<br>ì„ ë¬¼í•˜ë©´ ì–´ë–¨ê¹Œ?</p>
        <!-- <div class="english-sub">FOR<br>SOMEONE<br>SPECIAL</div> -->
        <span class="material-icons arrow-icon">north_east</span>
    </a>
</div>

<!-- ========================================== -->
<!-- [API í…ŒìŠ¤íŠ¸] ê°œë°œì ë„êµ¬(F12) ì½˜ì†” í™•ì¸ìš© -->
<!-- ========================================== -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log("ğŸš€ í™ˆí˜ì´ì§€ ë¡œë”© ì™„ë£Œ! API ì—°ê²° í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...");

        // í–¥ìˆ˜ ëª©ë¡ API í˜¸ì¶œí•´ë³´ê¸°
        fetch('/api/perfumes/')
            .then(response => {
                if (!response.ok) throw new Error('ë„¤íŠ¸ì›Œí¬ ì‘ë‹µì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return response.json();
            })
            .then(data => {
                console.log("âœ… API ì—°ê²° ì„±ê³µ!");
                console.log("ğŸ“¦ ê°€ì ¸ì˜¨ í–¥ìˆ˜ ë°ì´í„°:", data);

                // ë°ì´í„°ê°€ ë¹„ì–´ìˆë‹¤ë©´ ì•ˆë‚´ ë©”ì‹œì§€
                if (data.results && data.results.length === 0) {
                    console.warn("âš ï¸ ë°ì´í„°ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. http://127.0.0.1:8000/admin/ ì—ì„œ í–¥ìˆ˜ë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.");
                }
            })
            .catch(error => {
                console.error("âŒ API ì—°ê²° ì‹¤íŒ¨:", error);
            });
    });
</script>

{% endblock %}